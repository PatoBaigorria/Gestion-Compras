@model IEnumerable<Gestion_Compras.Models.Ajuste>

<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover text-center table-sm">
        <thead class="table-light table-header">
            <tr>
                <th style="width: 60px;">Código del Item</th>
                <th style="width: 350px;">Descripción</th>
                <th style="width: 40px;">Stock Anterior</th>
                <th style="width: 40px;">Stock Real</th>
                <th style="width: 200px;">Observaciones</th>
                <th style="width: 60px;">Fecha</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                @foreach (var ajuste in Model)
                {
                    <tr>
                        <td>@ajuste.ItemCodigo?.ToUpper()</td>
                        <td style="text-align: left;">@(ajuste.Item?.Descripcion ?? "")</td>
                        <td>@(ajuste.StockIni % 1 == 0 ? ajuste.StockIni.ToString("0") : ajuste.StockIni.ToString("0.##"))</td>
                        <td>@(ajuste.StockReal % 1 == 0 ? ajuste.StockReal.ToString("0") : ajuste.StockReal.ToString("0.##"))</td>
                        <td style="text-align: left;">@(ajuste.Observaciones ?? "")</td>
                        <td>@ajuste.FechaAjuste.ToString("dd/MM/yyyy")</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="6" class="text-center text-muted">
                        <i class="fas fa-info-circle"></i> No se encontraron ajustes
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
